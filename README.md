# Draw++ Interpreter

Draw++ is a lightweight, Python-based interpreter for a custom scripting language designed for creating simple graphical drawings. This interpreter converts Draw++ code into C code and executes it. It features file-based execution and an interactive mode for real-time drawing commands.

---

## Features

- **Lexical and Syntax Analysis**: Built using the PLY (Python Lex-Yacc) library.
- **AST Generation**: Parses the input into an abstract syntax tree (AST).
- **C Code Translation**: Converts AST nodes into C code for execution.
- **Interactive Mode**: Execute drawing commands in real-time.
- **Debugging Tools**: Debug mode to visualize tokens, AST, and translated C code.

---

## Installation

1. Clone the repository:
   ```bash
   git clone https://github.com/NayJi7/cy-sketch
   cd cy-sketch
   ```

2. Install Python dependencies:
   ```bash
   pip install -r requirements.txt
   ```

---

## Requirements

- Python 3.6 or later
- Dependencies:
  - `ply` (Python Lex-Yacc)

---

## Usage

### **File-Based Execution**

Execute a `.dpp` source file:
```bash
python3 interpreter.py your_file.dpp
```

### **Interactive Mode**

Run the interpreter without specifying a file to enter interactive mode:
```bash
python3 interpreter.py
```

### **Debug Mode**

Enable debug mode with the `-d` flag for detailed output:
```bash
python3 interpreter.py -d your_file.dpp
```

---

## Interactive Mode Commands

- **Run Commands**: Enter any valid Draw++ command.
- **Clear Screen**: Type `c`.
- **Restart Interpreter**: Type `r`.
- **Exit**: Type `e` or `q`.

---

## Draw++ Language Overview

### **Keywords**

| Command   | Description                   |
|-----------|-------------------------------|
| `DRAW`    | Draw a shape                  |
| `MOVE`    | Move to a position            |
| `ROTATE`  | Rotate by an angle            |
| `COLOR`   | Set the drawing color         |
| `IF`      | Conditional execution         |
| `WHILE`   | Loop with a condition         |
| `FOR`     | Loop with an initialization   |
| `VARIABLE`| Declare a variable            |

### **Supported Shapes**

| Shape    | Description                   |
|----------|-------------------------------|
| `LINE`   | Draws a line                  |
| `CIRCLE` | Draws a circle                |
| `SQUARE` | Draws a square                |
| `ARC`    | Draws an arc                  |
| `POINT`  | Draws a point                 |

### **Example Program**
```draw++
var x = 10;
var y = 20;

color("red");
draw circle(x, y);
move(x, y);
rotate(45);
draw square(30, 30);
```

---

## Project Structure

```
- CY-SKETCH
├── src/
├────── lexer.py          # Lexical analyzer (tokenizes the input)
├────── parser.py         # Syntax analyzer (generates the AST)
├────── interpreter.py    # Main interpreter script
├────── myast.py          # AST utilities and execution functions
|
├── doc/
├────── generated/
├────────────────  compilator.pdf    # PDF doc generated with doxygen
├────────────────  compilator.html   # HTML doc generated with doxygen
|
├── Doxyfile          # Configuration file for doxygen
├── requirements.txt  # Txt file that contains all python requirements
└── README.md         # Readme file
```

---

## Debugging

Enable debug mode to view:
- Tokens generated by the lexer
- Abstract syntax tree (AST)
- Translated C code

Run the interpreter with `-d`:
```bash
python3 interpreter.py your_file.dpp -d
```

---

## Authors

- **Adam Terrak**
- **Deulyne Destin**

---

## Acknowledgments

- Thanks to the contributors and users who support this project.
- Built using the **PLY** library for Python.